enum Frequencytype {
  DAILY
  WEEKLY
  MONTHLY
  YEARLY
}

type Repeatdata {
  FREQ: Frequencytype!
  INTERVALS: Int!
  UNTIL: AWSDateTime
  WKST: String
  BYDAYS: String
  BYMONTH: String
}

type Userinfo
  @model
  @auth(rules: [{ allow: owner }, { allow: groups, groups: ["Admins"] }]) {
  id: ID!
  name: String!
  email: AWSEmail!
  Timezone: String
  Schedules: [Schedule] @hasMany(indexName: "byUserinfo", fields: ["id"])
  Tasks: [Task] @hasMany(indexName: "byUserinfo", fields: ["id"])
}

type Schedule
  @model
  @auth(rules: [{ allow: owner }, { allow: groups, groups: ["Admins"] }]) {
  id: ID!
  SUMMARY: String!
  DTSTART: AWSDateTime!
  DTEND: AWSDateTime!
  DESCRIPTION: String
  LOCATION: String
  userinfoID: ID! @index(name: "byUserinfo")
  RRULE: Repeatdata
}

type Task
  @model
  @auth(rules: [{ allow: owner }, { allow: groups, groups: ["Admins"] }]) {
  id: ID!
  due_time: AWSTime!
  due_date: AWSDate!
  description: String!
  userinfoID: ID! @index(name: "byUserinfo")
}
